{"version":3,"sources":["webpack:///./src/views/Login.vue?1636","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?09c2","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","active","expression","on","registerSubmit","required","message","register","$set","staticStyle","_v","loginSubmit","login","mobile","scopedSlots","_u","key","fn","sendSms","proxy","sms","checkSms","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d2086b7.f6d5b55e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('Head',{attrs:{\"title\":\"注册&登录\",\"show\":true,\"login\":true}}),_c('van-tabs',{attrs:{\"color\":\"#0f0\",\"title-active-color\":\"#0f0\"},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tab',{attrs:{\"title\":\"注册\"}},[_c('van-form',{on:{\"submit\":_vm.registerSubmit}},[_c('van-field',{attrs:{\"name\":\"mobile\",\"label\":\"手机号\",\"placeholder\":\"手机号\",\"rules\":[{ required: true, message: '请填写手机号码' }]},model:{value:(_vm.register.mobile),callback:function ($$v) {_vm.$set(_vm.register, \"mobile\", $$v)},expression:\"register.mobile\"}}),_c('van-field',{attrs:{\"name\":\"username\",\"label\":\"用户名\",\"placeholder\":\"用户名\",\"rules\":[{ required: true, message: '请填写用户名' }]},model:{value:(_vm.register.username),callback:function ($$v) {_vm.$set(_vm.register, \"username\", $$v)},expression:\"register.username\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"name\":\"password\",\"label\":\"密码\",\"placeholder\":\"密码\",\"rules\":[{ required: true, message: '请填写密码' }]},model:{value:(_vm.register.password),callback:function ($$v) {_vm.$set(_vm.register, \"password\", $$v)},expression:\"register.password\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"name\":\"dbpwd\",\"label\":\"确认密码\",\"placeholder\":\"确认密码\",\"rules\":[{ required: true, message: '请填写确认密码' }]},model:{value:(_vm.register.dbpwd),callback:function ($$v) {_vm.$set(_vm.register, \"dbpwd\", $$v)},expression:\"register.dbpwd\"}}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"primary\",\"native-type\":\"submit\"}},[_vm._v(\" 马上注册 \")])],1)],1)],1),_c('van-tab',{attrs:{\"title\":\"登录\"}},[_c('van-form',{on:{\"submit\":_vm.loginSubmit}},[_c('van-field',{attrs:{\"name\":\"mobile\",\"label\":\"手机号\",\"placeholder\":\"手机号\",\"rules\":[{ required: true, message: '请填写手机号码' }]},model:{value:(_vm.login.mobile),callback:function ($$v) {_vm.$set(_vm.login, \"mobile\", $$v)},expression:\"login.mobile\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"name\":\"password\",\"label\":\"密码\",\"placeholder\":\"密码\",\"rules\":[{ required: true, message: '请填写密码' }]},model:{value:(_vm.login.password),callback:function ($$v) {_vm.$set(_vm.login, \"password\", $$v)},expression:\"login.password\"}}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\" 登录 \")])],1)],1)],1),_c('van-tab',{attrs:{\"title\":\"验证码登录\"}},[_c('van-field',{attrs:{\"name\":\"mobile\",\"label\":\"手机号\",\"placeholder\":\"请输入手机号\"},model:{value:(_vm.mobile),callback:function ($$v) {_vm.mobile=$$v},expression:\"mobile\"}}),_c('van-field',{attrs:{\"center\":\"\",\"clearable\":\"\",\"label\":\"短信验证码\",\"placeholder\":\"请输入短信验证码\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.sendSms}},[_vm._v(\"发送验证码\")])]},proxy:true}]),model:{value:(_vm.sms),callback:function ($$v) {_vm.sms=$$v},expression:\"sms\"}}),_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"warning\"},on:{\"click\":_vm.checkSms}},[_vm._v(\" 验证登录 \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"box\">\r\n        <Head title=\"注册&登录\" :show=\"true\" :login=\"true\"></Head>\r\n        <van-tabs \r\n        v-model=\"active\" \r\n        color=\"#0f0\" \r\n        title-active-color=\"#0f0\"\r\n        >\r\n            <van-tab title=\"注册\">\r\n                <van-form @submit=\"registerSubmit\">\r\n                    <van-field\r\n                        v-model=\"register.mobile\"\r\n                        name=\"mobile\"\r\n                        label=\"手机号\"\r\n                        placeholder=\"手机号\"\r\n                        :rules=\"[{ required: true, message: '请填写手机号码' }]\"\r\n                    />\r\n                    <van-field\r\n                        v-model=\"register.username\"\r\n                        name=\"username\"\r\n                        label=\"用户名\"\r\n                        placeholder=\"用户名\"\r\n                        :rules=\"[{ required: true, message: '请填写用户名' }]\"\r\n                    />\r\n                    <van-field\r\n                        v-model=\"register.password\"\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        label=\"密码\"\r\n                        placeholder=\"密码\"\r\n                        :rules=\"[{ required: true, message: '请填写密码' }]\"\r\n                    />\r\n                    <van-field\r\n                        v-model=\"register.dbpwd\"\r\n                        type=\"password\"\r\n                        name=\"dbpwd\"\r\n                        label=\"确认密码\"\r\n                        placeholder=\"确认密码\"\r\n                        :rules=\"[{ required: true, message: '请填写确认密码' }]\"\r\n                    />\r\n                    <div style=\"margin: 16px;\">\r\n                        <van-button round block type=\"primary\" native-type=\"submit\">\r\n                        马上注册\r\n                        </van-button>\r\n                    </div>\r\n                </van-form>\r\n            </van-tab>\r\n            <van-tab title=\"登录\">\r\n                <van-form @submit=\"loginSubmit\">\r\n                    <van-field\r\n                        v-model=\"login.mobile\"\r\n                        name=\"mobile\"\r\n                        label=\"手机号\"\r\n                        placeholder=\"手机号\"\r\n                        :rules=\"[{ required: true, message: '请填写手机号码' }]\"\r\n                    />\r\n                    <van-field\r\n                        v-model=\"login.password\"\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        label=\"密码\"\r\n                        placeholder=\"密码\"\r\n                        :rules=\"[{ required: true, message: '请填写密码' }]\"\r\n                    />\r\n                    <div style=\"margin: 16px;\">\r\n                        <van-button round block type=\"info\" native-type=\"submit\">\r\n                        登录\r\n                        </van-button>\r\n                    </div>\r\n                </van-form>\r\n            </van-tab>\r\n            <van-tab title=\"验证码登录\">\r\n                <van-field\r\n                    v-model=\"mobile\"\r\n                    name=\"mobile\"\r\n                    label=\"手机号\"\r\n                    placeholder=\"请输入手机号\"\r\n                />\r\n                <van-field\r\n                    v-model=\"sms\"\r\n                    center\r\n                    clearable\r\n                    label=\"短信验证码\"\r\n                    placeholder=\"请输入短信验证码\"\r\n                    >\r\n                    <template #button>\r\n                        <van-button  @click=\"sendSms\" size=\"small\" type=\"primary\">发送验证码</van-button>\r\n                    </template>\r\n                </van-field>\r\n                <van-button round block type=\"warning\" @click=\"checkSms\">\r\n                    验证登录\r\n                </van-button>\r\n            </van-tab>\r\n        </van-tabs>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data(){\r\n        return {\r\n            active:1,\r\n            login:{\r\n                mobile:localStorage.mobile\r\n            },\r\n            register:{},\r\n            sms:\"\",\r\n            mobile:\"\"\r\n        }\r\n    },\r\n    methods:{\r\n        checkSms(){\r\n            // 相对路径   会自动拼接 axios 的 baseURL   \r\n            this.$axios.get(\"/yun/captcha/verify\",{\r\n                params:{\r\n                    phone:this.mobile,\r\n                    captcha:this.sms\r\n                }\r\n            }).then(res=>{\r\n                if(res.data.code==200){\r\n                    localStorage.mobile = this.mobile;\r\n                    localStorage.isLogin = true;\r\n                    this.$router.push({name:'mine'})\r\n                   \r\n                }else{\r\n                    localStorage.isLogin = false;\r\n                }\r\n            })\r\n        },\r\n        sendSms(){\r\n            // 发送验证码 \r\n            // 绝对路径 \r\n            // http://47.104.209.44:3333/captcha/sent\r\n            this.$axios.get(\"/yun/captcha/sent\",{\r\n                params:{\r\n                    phone:this.mobile\r\n                }\r\n            })\r\n            .then(res=>{\r\n                console.log(res);\r\n            })\r\n        },\r\n        loginSubmit(value){\r\n            console.log(value)\r\n            console.log(\"登录\")\r\n            this.$axios.post(\"/vue/login\",this.login)\r\n            .then(res=>{\r\n                if(res.data.type){\r\n                    localStorage.mobile = this.login.mobile;\r\n                    localStorage.isLogin = true;\r\n                    this.$router.push({name:'mine'})\r\n                    sessionStorage.token = res.data.token;  // 存储token \r\n                }\r\n            })\r\n        },\r\n        registerSubmit(value){\r\n            console.log(value)\r\n            console.log(\"注册\")\r\n            this.$axios.post(\"/vue/register\",this.register)\r\n            .then(res=>{\r\n                if(res.data.type){\r\n                    this.active = 1;\r\n                    // this.login.username = res.data.result[0].username;\r\n                    this.login.mobile = this.register.mobile;\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=d4e1a718&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}